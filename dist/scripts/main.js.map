{"version":3,"sources":["../assets/scripts/main.js"],"names":["$","load_resize","$navbar","css","outerHeight","window","width","hero_content_height","height","$hero_footer","$form","$navbarLayout","resize","on","removeClass","addClass","find","collapse","carousel","interval","pause","ride","sr","ScrollReveal","reveal","duration","controller","ScrollMagic","Controller","globalSceneOptions","triggerHook","slides","i","length","Scene","triggerElement","setPin","addTo","focusout","this","val","parent","focus","console","log","submit","event","preventDefault","datastring","serializeArray","grecaptcha","getResponse","html","show","delay","fadeOut","fields","br","each","fld","name","value","ajax","type","url","data","key","message","from_email","to","email","autotext","subject","track_opens","track_clicks","fail","response","done","thanks_html","replace","slideUp","slideDown","$img","jQuery","imgID","attr","imgClass","imgURL","get","$svg","removeAttr","replaceWith"],"mappings":"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","file":"main.js","sourcesContent":["$(function() {\n  \n  var $hero_footer  = $('.layout-hero .hero-footer');\n  var $form         = $(\"#contact-form\");\n  var $navbarLayout = $(\"#navbarLayout\");\n\n  function load_resize() {\n    $navbar = $(\"#header\"); \n    $('body').css('padding-top', $navbar.outerHeight());\n\n    if($(window).width() >= 768) {\n      //console.log(\"window height: \" + $(window).height());\n      //console.log(\"navbar outerheight: \" + $navbar.outerHeight());\n      //console.log(\"hero footer outerheight: \" + $hero_footer.outerHeight());\n      var hero_content_height = $(window).height() - $navbar.outerHeight() - $hero_footer.outerHeight();\n      //console.log(\"hero content height: \" + hero_content_height);\n     \n      if(hero_content_height < 500) {\n        hero_content_height = 500;\n      }\n\n      $('#hero-content, #hero-carousel').css('height', hero_content_height);\n    }\n\n    if($(window).width() >= 992) {\n      $('.layout-image').css('height', ($(window).width()/2.5));\n    }    \n  \n  }\n\n  load_resize();\n  $(window).resize(function() { \n    load_resize(); \n  }); // onresize\n\n\n  // Mobile menu\n  $navbarLayout.on('hidden.bs.collapse', function () {\n    $(\"#toggle-main-menu\").removeClass('is-active');\n  });\n  $navbarLayout.on('shown.bs.collapse', function () {\n    $(\"#toggle-main-menu\").addClass('is-active');\n  });\n\n  $navbarLayout.find('a').on('click tap press', function () {\n    $navbarLayout.collapse('hide');\n  });\n\n  // Carousel\n  $('#hero-carousel').carousel({\n    interval: 6000, pause: false, ride: true\n  });\n\n  // ScrollReveal\n  window.sr = new ScrollReveal();\n  sr.reveal('section h2, .reveal, section header');\n  // Reveal in a ripple efffect\n  sr.reveal('.howwehelp-action', { duration: 800 }, 100);\n  sr.reveal('#contact .contact li, #whyparachute p, #wearewithyou p, #ourpromise p', { duration: 500 }, 50);\n  \n  // Scrollmagic\n  if($(window).width() > 1024) {\n    var controller = new ScrollMagic.Controller({\n      globalSceneOptions: {\n        triggerHook: 'onLeave'              \n      }\n    });\n\n    var slides = ['#intro', '#whyparachute', '#wearewithyou', '#ourpromise',  '#contact']; \n\n    // create scene for every slide\n    for (var i=0; i<slides.length; i++) {\n      $(slides[i]).addClass('layout-fs');\n      new ScrollMagic.Scene({ triggerElement: slides[i] })\n        .setPin(slides[i])\n        .addTo(controller);\n    }\n  }\n\n  $(\".form-group input, .form-group textarea\").focusout(function(){\n      if($(this).val() === \"\"){\n        $(this).parent().removeClass('focus');\n      }\n  }); \n  $('.form-group input, .form-group textarea').focus(function() {\n    $(this).parent().addClass('focus');\n  });\n\n  console.log(\"Welcome to Parachute.\");\n\n  $form.submit(function( event ) {\n    console.log( \"Handler for .submit() called.\" );\n    event.preventDefault();\n\n    var datastring = $(this).serializeArray();\n\n    var recaptcha_response = grecaptcha.getResponse();\n\n    //console.log(recaptcha_response);\n\n    //recaptcha failed validation\n    if (recaptcha_response.length == 0) {\n      $(\"#form-error\").html(\"Please tick the recaptcha box.\").show().delay(5000).fadeOut(300);\n      return false;\n    }\n    //recaptcha passed validation\n    else {\n      console.log(\"Recaptcha accepted\");\n    }\n\n    var fields = '<ul>'; var br = '';\n\n    $.each(datastring, function( i, fld ) {\n      br = fld.name !== 'Message' ? '' : '<br>';\n      fields+=\"<li><b>\" + fld.name + \":</b> \" + br + fld.value + \"</li>\";\n    });\n\n    fields+=\"</ul>\";\n\n    var html = \"<p>Hello!</p><p>You have received a new Parachute website enquiry.</p>\" +\n    fields + \"<p>&nbsp;</p><p>&nbsp;</p><hr><p><em><small>This is an automated message from https://www.parachute.net.au</small></em></p>\";\n\n    $.ajax({\n      type: 'POST',\n      url: 'https://mandrillapp.com/api/1.0/messages/send.json',\n      data: {\n        'key': 'qQ2_bQU2BL_ad3Sdvy7RgA', // SAJEN MANDRILL API KEY\n        'message': {\n          'from_email': 'webform@parachute.net.au',\n          'to': [\n            {\n              'email': 'help@parachute.net.au',\n              'name': 'Parachute Team',\n              'type': 'to'\n            }\n            // ,{\n            //   'email': 'skye@weareva.com.au',\n            //   'name': 'VA',\n            //   'type': 'to'\n            // }\n          ],\n          'autotext': 'true',\n          'subject': 'Web enquiry from ' + $(\"#contact-name\").val(),\n          'html': html,\n          'track_opens': true,\n          'track_clicks': true\n        }\n      }\n    }).fail(function(response) {\n      $(\"#form-error\").html(\"Sorry, there was an error sending your enquiry. Please try again soon or email help@parachute.net.au directly.\").show().delay(5000).fadeOut(300);\n    }).done(function(response) {\n      console.log(\"Enquiry sent!\");\n      var thanks_html = $(\"#thankyou\").html().replace(\"[NAME]\", $(\"#contact-name\").val()); \n      $form.slideUp(300);\n      $(\"#thankyou\").html(thanks_html).slideDown(500);\n    });\n  });\n\n    // if($(window).width() >= 992) {\n    //   $('#fullpage').fullpage({\n    //     anchors:['section1','section2', 'section3'],\n    //     scrollOverflow: true,\n    //     autoScrolling:true,\n    //     slideSelector: '',\n    //     //css3:false\n    //     normalScrollElements: '#intro'\n    //   });\n    // }\n\n    /*\n     * Replace all SVG images with inline SVG\n     */\n    $('img.svg').each(function(){\n        var $img     = jQuery(this);\n        var imgID    = $img.attr('id');\n        var imgClass = $img.attr('class');\n        var imgURL   = $img.attr('src');\n\n        $.get(imgURL, function(data) {\n            // Get the SVG tag, ignore the rest\n            var $svg = jQuery(data).find('svg');\n\n            // Add replaced image's ID to the new SVG\n            if(typeof imgID !== 'undefined') {\n                $svg = $svg.attr('id', imgID);\n            }\n            // Add replaced image's classes to the new SVG\n            if(typeof imgClass !== 'undefined') {\n                $svg = $svg.attr('class', imgClass+' replaced-svg');\n            }\n\n            // Remove any invalid XML tags as per http://validator.w3.org\n            $svg = $svg.removeAttr('xmlns:a');\n\n            // Check if the viewport is set, if the viewport is not set the SVG wont't scale.\n            if(!$svg.attr('viewBox') && $svg.attr('height') && $svg.attr('width')) {\n                $svg.attr('viewBox', '0 0 ' + $svg.attr('height') + ' ' + $svg.attr('width'));\n            }\n\n            // Replace image with new SVG\n            $img.replaceWith($svg);\n\n        }, 'xml');\n\n    });\n\n\n});\n"],"sourceRoot":"assets/scripts/"}